import { HttpError } from '@oazapfts/runtime'
import {
  createCertificate,
  createCidr,
  createDnsRecord,
  createDnsZone,
  createFolder,
  createFoundation,
  createNetwork,
  createProject,
  createRuntime,
  createTenant,
  createVpn,
  defaults,
  deleteCertificate,
  deleteCidr,
  deleteDnsRecord,
  deleteDnsZone,
  deleteFolder,
  deleteNetwork,
  deleteProject,
  deleteVpn,
  getCertificate,
  getFolder,
  getFolderTags,
  getFoundation,
  getNetwork,
  getProject,
  getVpnConfiguration,
  listCertificates,
  listCidr,
  listDnsRecord,
  listDnsZone,
  listFoundations,
  listNetwork,
  listRuntime,
  listTenant,
  listVpns,
  providers,
  putCertificateTags,
  putCidrTags,
  putDnsZoneTags,
  putFolderTags,
  putNetworkTags,
  putProjectTags,
  putVpnTags,
} from '../api/cloudPlatform'
import { DefaultAPIError } from '../error/DefaultAPIError'
import { StackspotAPIError } from '../error/StackspotAPIError'
import { ReactQueryNetworkClient } from '../network/ReactQueryNetworkClient'
import { removeAuthorizationParam } from '../utils/remove-authorization-param'
import { scfDictionary } from '../error/dictionary/cloud-platform'
import { getApiAddresses } from '../api-addresses'

class CloudPlatformClient extends ReactQueryNetworkClient {
  constructor() {
    super(getApiAddresses().cloudPlatform.url, defaults)
  }

  protected buildStackSpotError(error: HttpError): StackspotAPIError {
    return new DefaultAPIError(error.data, error.status, scfDictionary, error.headers)
  }
  /**
   * List foundations
   */
  listFoundations = this.query(removeAuthorizationParam(listFoundations))
  /**
   * Get a foundation by id
   */
  foundation = this.query(removeAuthorizationParam(getFoundation))
  /**
   * Get list of foundations folders or folder by id
   */
  getFolder = this.query(removeAuthorizationParam(getFolder))
  /**
   * Get list of providers for a foundation
   */
  listProviders = this.query(removeAuthorizationParam(providers))
  /**
   * Create a foundation
   */
  createFoundation = this.mutation(removeAuthorizationParam(createFoundation))
  /**
   * Create a foundation folder
   */
  createFolder = this.mutation(removeAuthorizationParam(createFolder))
  /**
   * Get a list of dns zones
   */
  listDnsZones = this.query(removeAuthorizationParam(listDnsZone))
  /**
   * Create a dns zone
   */
  createDnsZone = this.mutation(removeAuthorizationParam(createDnsZone))
  /**
   * Get a list of cidrs
   */
  listCidrs = this.query(removeAuthorizationParam(listCidr))
  /**
   * Create a cidr
   */
  createCidr = this.mutation(removeAuthorizationParam(createCidr))
  /**
   * Get a list of certificates
   */
  listCertificates = this.query(removeAuthorizationParam(listCertificates))
  /**
   * Get a certificate by id
   */
  getCertificate = this.query(removeAuthorizationParam(getCertificate))
  /**
   * Create a certificate
   */
  createCertificate = this.mutation(removeAuthorizationParam(createCertificate))
  /**
   * Create a project
   */
  createProject = this.mutation(removeAuthorizationParam(createProject))
  /**
   * Get a project by id
   */
  getProjectById = this.query(removeAuthorizationParam(getProject))
  /**
   * Get a list of dns records
   */
  listDnsRecords = this.query(removeAuthorizationParam(listDnsRecord))
  /**
   * Create a dns record
   */
  createDnsRecord = this.mutation(removeAuthorizationParam(createDnsRecord))
  /**
   * Get a list of networks
   */
  listNetworks = this.query(removeAuthorizationParam(listNetwork))
  /**
   * Create a network
   */
  createNetwork = this.mutation(removeAuthorizationParam(createNetwork))
  /**
   * Get a list of vpn's
   */
  listVpns = this.query(removeAuthorizationParam(listVpns))
  /**
   * Get vpn configuration
   */
  getVpnConfiguration = this.query(removeAuthorizationParam(getVpnConfiguration))
  /**
   * Create a vpn
   */
  createVpn = this.mutation(removeAuthorizationParam(createVpn))
  /**
   * Get a network details
   */
  getNetworkById = this.query(removeAuthorizationParam(getNetwork))
  /**
 * Get a list of tenants
 */
  listTenants = this.query(removeAuthorizationParam(listTenant))
  /**
 * Create a tenant
 */
  createTenant = this.mutation(removeAuthorizationParam(createTenant))
  /**
  * Get a list of runtimes
  */
  listRuntimes = this.query(removeAuthorizationParam(listRuntime))
  /**
  * Create a runtime
  */
  createRuntime = this.mutation(removeAuthorizationParam(createRuntime))
  /**
  * Get a list of tags in folder
  */
  getFolderTags = this.query(removeAuthorizationParam(getFolderTags))
  /**
  * Update folder tags
  */
  updateFolderTags = this.mutation(removeAuthorizationParam(putFolderTags))
  /**
  * Update project tags
  */
  updateProjectTags = this.mutation(removeAuthorizationParam(putProjectTags))
  /**
  * Update network tags
  */
  updateNetworkTags = this.mutation(removeAuthorizationParam(putNetworkTags))
  /**
  * Update cidr tags
  */
  updateCidrTags = this.mutation(removeAuthorizationParam(putCidrTags))
  /**
  * Update dns zone tags
  */
  updateDnsZoneTags = this.mutation(removeAuthorizationParam(putDnsZoneTags))
  /**
  * Update certificate tags
  */
  updateCertificateTags = this.mutation(removeAuthorizationParam(putCertificateTags))
  /**
  * Update vpn tags
  */
  updateVpnTags = this.mutation(removeAuthorizationParam(putVpnTags))
  /**
  * Delete a folder
  */
  deleteFolder = this.mutation(removeAuthorizationParam(deleteFolder))
  /**
  * Delete a project
  */
  deleteProject = this.mutation(removeAuthorizationParam(deleteProject))
  /**
  * Delete a network
  */
  deleteNetwork = this.mutation(removeAuthorizationParam(deleteNetwork))
  /**
  * Delete a certificate
  */
  deleteCertificate = this.mutation(removeAuthorizationParam(deleteCertificate))
  /**
  * Delete a dns zone
  */
  deleteDnsZone = this.mutation(removeAuthorizationParam(deleteDnsZone))
  /**
  * Delete a dns record
  */
  deleteDnsRecord = this.mutation(removeAuthorizationParam(deleteDnsRecord))
  /**
* Delete a VPN
*/
  deleteVPN = this.mutation(removeAuthorizationParam(deleteVpn))
  /**
* Delete a CIDR
*/
  deleteCidr = this.mutation(removeAuthorizationParam(deleteCidr))
}

export const cloudPlatformClient = new CloudPlatformClient()
