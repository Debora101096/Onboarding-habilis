import { RequestOpts } from '@oazapfts/runtime';
import { AccountScmInfoSaveRequest, AccountScmInfoUpdateRequest, AccountScmStatusResponse, GroupsFromResourceResponse, MembersFromResourceResponse } from '../api/account.js';
import { AgentVisibilityLevelEnum, HttpMethod, ListAgentResponse, VisibilityLevelEnum } from '../api/agent-tools.js';
import { ChatRequest, ChatResponse3, ContentDependencyResponse, ConversationHistoryResponse, ConversationResponse, DependencyResponse } from '../api/ai.js';
import { ConnectAccountRequestV2, ManagedAccountProvisionRequest } from '../api/cloudAccount.js';
import { AllocationCostRequest, AllocationCostResponse, ChargePeriod, getAllocationCostFilters, ManagedService, ServiceResource } from '../api/cloudServices.js';
import { Action } from '../api/workspace-ai.js';
import { ActivityResponse, FullInputContextResponse, InputConditionResponse, InputValuesContextResponse, PaginatedActivityResponse, PluginForAppCreationV2Response, PluginInputValuesInConsolidatedContextResponse, ValueByEnvResponse, WorkflowForCreationResponse } from '../api/workspaceManager.js';
interface BaseSMCStatus {
    /**
     * Indicates the current status of the SCM credential.
     * - 'valid': the SCM credential is valid.
     * - 'missing-account': the SCM credential is not configured at the account level.
     * - 'missing-user': the SCM credential is configured at the account level, but the SCM access is not configured for the user.
     */
    status: 'missing-account' | 'missing-user' | 'valid';
}
interface ValidSCMStatus extends BaseSMCStatus, AccountScmStatusResponse {
    status: 'valid';
}
interface InvalidSCMStatus extends BaseSMCStatus {
    status: 'missing-account' | 'missing-user';
}
export type SCMStatus = InvalidSCMStatus | ValidSCMStatus;
interface SCMAuthPATValue {
    user: string;
    pass: string;
}
interface SCMAuthGitValue {
    appId: string;
    installationId: string;
    privateKey: string;
}
export interface CreateSCMRequest {
    accountScmInfoSaveRequest: AccountScmInfoSaveRequest & {
        value: SCMAuthGitValue | SCMAuthPATValue;
    };
}
export interface UpdateSCMRequest {
    accountScmInfoUpdateRequest: AccountScmInfoUpdateRequest & {
        value?: SCMAuthGitValue | SCMAuthPATValue;
    };
}
export type AllocationCostType = Parameters<typeof getAllocationCostFilters>[0]['$type'];
export interface CostAllocationVariables {
    allocationCostRequest: Omit<AllocationCostRequest, 'stackSpotAccountId' | 'billingAccountId'> & {
        stackSpotAccountId: string;
        billingAccountId: string[];
    };
}
interface ServiceNameResponse {
    type: 'ServiceNameResponse';
    chargePeriod?: ChargePeriod;
    /** Represents an offering that can be purchased from a cloud provider. */
    serviceName?: string;
    /** Effective cost post discounts and amortizations. */
    effectiveCost?: number;
}
interface TagResponse {
    type: 'TagResponse';
    chargePeriod?: ChargePeriod;
    /** Tag key: Identifies a grouping attribute or category for resources or constructs. */
    tagKey?: string;
    /** Tag value: Specifies the group or category detail that the resource or construct belongs to. */
    tagValue?: string;
    /** Effective cost post discounts and amortizations. */
    effectiveCost?: number;
}
interface UsageUnitResponse {
    type: 'UsageUnitResponse';
    chargePeriod?: ChargePeriod;
    /** Represents an offering that can be purchased from a cloud provider. */
    serviceName?: string;
    /** Represents the volume of a given resource or service used or purchased based on the Usage Unit. */
    usageQuantity?: number;
    /** Defines the unit of measurement for the resource or service. */
    usageUnit?: string;
    /** Effective cost post discounts and amortizations. */
    effectiveCost?: number;
}
export type CostAllocationData = ServiceNameResponse | TagResponse | UsageUnitResponse;
export interface CostAllocationResult extends Omit<AllocationCostResponse, 'data'> {
    data: CostAllocationData[];
}
interface FixedServiceResource extends Omit<ServiceResource, 'id'> {
    id: string;
}
export interface FixedManagedService extends Omit<ManagedService, 'resources'> {
    resources: FixedServiceResource[];
}
export interface FixedConnectAccountRequestV2 extends ConnectAccountRequestV2 {
    credential?: {
        iamRole?: string;
        clientId?: string;
        clientSecret?: string;
        tenantId?: string;
        subscriptionId?: string;
    };
}
export interface FixedManagedAccountProvisionRequest extends Omit<ManagedAccountProvisionRequest, 'workspaceId'> {
    workspaceId: string;
}
export interface FixedPluginForAppCreationV2Response extends Omit<PluginForAppCreationV2Response, 'inputs'> {
    inputs: FixedPluginInputValuesInConsolidatedContextResponse[];
}
export type InputType = 'BOOL' | 'INT' | 'MULTISELECT' | 'OBJECT' | 'LIST' | 'REQUIRED-CONNECTION' | 'PASSWORD' | 'SELECT' | 'TEXT' | 'GENERATED-CONNECTION' | 'TEXTAREA' | 'IMPORT';
export interface FixedInputConditionResponse extends Omit<InputConditionResponse, 'value'> {
    value?: any;
}
export interface FixedValueByEnvResponse extends Omit<ValueByEnvResponse, 'value'> {
    value: any;
}
export interface FixedInputValuesContextResponse extends Omit<InputValuesContextResponse, 'inputs' | 'input' | 'type' | 'default' | 'condition' | 'valuesByEnv'> {
    inputs: Omit<FixedInputValuesContextResponse, 'valuesByEnv'>[];
    input?: Omit<FixedInputValuesContextResponse, 'valuesByEnv'>;
    type: InputType;
    default?: any;
    condition?: FixedInputConditionResponse;
    valuesByEnv: FixedValueByEnvResponse[];
    scope?: 'default' | 'hidden' | 'env';
}
export interface FixedFullInputContextResponse extends Omit<FullInputContextResponse, 'inputs'> {
    inputs: FixedInputValuesContextResponse[];
}
export interface FixedWorkflowForCreationResponse extends Omit<WorkflowForCreationResponse, 'inputs'> {
    inputs: FixedInputValuesContextResponse[];
}
export interface FixedPluginInputValuesInConsolidatedContextResponse extends Omit<PluginInputValuesInConsolidatedContextResponse, 'inputs' | 'input' | 'type' | 'default' | 'condition'> {
    inputs: FixedInputValuesContextResponse[];
    input?: FixedInputValuesContextResponse;
    type: InputType;
    default?: any;
    condition?: FixedInputConditionResponse;
}
export interface FixedActivityResponse extends Omit<ActivityResponse, 'detail'> {
    detail: any;
}
export interface FixedPaginatedActivityResponse extends Omit<PaginatedActivityResponse, 'items'> {
    items: FixedActivityResponse[];
}
export interface FixedChatRequest extends ChatRequest {
    context?: {
        workspace?: string;
        conversation_id?: string;
        stack_id?: string;
        language?: string;
        project_recent_files?: string;
        knowledge_sources?: string[];
        agent_id?: string;
        agent_built_in?: boolean;
        platform?: string;
        platform_version?: string;
        stackspot_ai_version?: string;
        os?: string;
        upload_ids?: string[];
        selected_model_id?: string;
    };
}
export interface FixedConversationHistoryResponse extends ConversationHistoryResponse {
    sources: ChatResponse3['sources'];
    custom_agent?: {
        id: string;
        built_in: boolean;
    };
}
export interface FixedConversationResponse extends ConversationResponse {
    history?: FixedConversationHistoryResponse[];
}
export interface FixedContentDependencyResponse extends ContentDependencyResponse {
    type: 'agent' | 'knowledge-source' | 'quick-command';
    visibility: 'account' | 'personal' | 'shared';
}
export interface FixedDependencyResponse extends DependencyResponse {
    promote_contents?: FixedContentDependencyResponse[] | null;
    promote_error_list?: FixedContentDependencyResponse[] | null;
    missing_list?: FixedContentDependencyResponse[] | null;
    delete_contents?: FixedContentDependencyResponse[] | null;
}
export interface WorkspaceAiMembersPermissions {
    items: (MembersFromResourceResponse & {
        actions: Action[];
    })[];
    page: number;
    size: number;
    totalPages: number;
}
export interface WorkspaceAiGroupsPermissions extends GroupsFromResourceResponse {
    actions: Action[];
}
export interface FixedWorkspaceAiPermissions {
    members?: WorkspaceAiMembersPermissions;
    groups?: WorkspaceAiGroupsPermissions[];
}
export interface FixedAddResourceToWorkspaceAi {
    error_ids: string[];
}
export interface ChatAgentTool {
    id: string;
    executionId?: string;
    /**
     * Duration in seconds.
     */
    duration?: number;
    name: string;
    description?: string;
    image?: string;
    input?: string;
    output?: string;
    goal?: string;
}
export interface ChatStepAttempt {
    /**
     * The tools used by this step.
     */
    tools?: ChatAgentTool[];
}
export interface BaseChatStep {
    id: string;
    type: 'planning' | 'step' | 'answer' | 'tool';
    status: 'pending' | 'running' | 'success' | 'error' | 'awaiting_approval';
    /**
     * Duration in seconds.
     */
    duration?: number;
}
export interface PlanningChatStep extends BaseChatStep {
    type: 'planning';
    status: 'success' | 'awaiting_approval';
    steps: string[];
    goal: string;
    user_question?: string;
}
export interface ToolChatStep extends BaseChatStep {
    type: 'tool';
    status: 'running' | 'success' | 'error' | 'awaiting_approval';
    /**
     * Each step might attempt to run for multiple times, with different inputs and outputs. If first attempt succeeds, this array will have
     * only one element.
     *
     * This array never has less than one element, despite the step's status.
     */
    attempts: ChatStepAttempt[];
    input?: Record<string, any>;
    user_question?: string;
}
export interface StepChatStep extends BaseChatStep {
    type: 'step';
    /**
     * Each step might attempt to run for multiple times, with different inputs and outputs. If first attempt succeeds, this array will have
     * only one element.
     *
     * This array never has less than one element, despite the step's status.
     */
    attempts: ChatStepAttempt[];
    input?: string;
    output?: string;
}
export interface AnswerChatStep extends BaseChatStep {
    type: 'answer';
}
export type ChatStep = PlanningChatStep | StepChatStep | AnswerChatStep | ToolChatStep;
export interface BaseAgentInfo {
    type: 'chat' | 'planning' | 'step' | 'tool' | 'final_answer';
    action: 'start' | 'end' | 'awaiting_approval';
    duration?: number;
    id: string;
}
export interface AgentTool {
    tool_id: string;
    tool_execution_id: string;
    goal: string;
}
export interface PlanningAgentInfo extends BaseAgentInfo {
    type: 'planning';
    data?: {
        plan_goal: string;
        total_steps: number;
        steps: {
            id: string;
            goal: string;
            tools?: AgentTool[];
        }[];
        user_question?: string;
    };
}
export interface StepAgentInfo extends BaseAgentInfo {
    type: 'step';
    id: string;
}
export interface ToolAgentInfo extends BaseAgentInfo {
    type: 'tool';
    id: string;
    data?: {
        input?: any;
        attempt: number;
        output?: string;
        user_question?: string;
        tool_id: string;
    };
}
export interface GenericAgentInfo extends BaseAgentInfo {
    type: 'chat' | 'final_answer';
}
export type AgentInfo = GenericAgentInfo | PlanningAgentInfo | StepAgentInfo | ToolAgentInfo;
export interface FixedChatResponse extends ChatResponse3 {
    agent_info: AgentInfo;
    tools?: string[];
}
export interface OpportunitiesPMAgent {
    title: string;
    description: string;
}
export type HypothesisPMAgent = OpportunitiesPMAgent;
export type PrfaqPMAgent = {
    title: string;
    content: string;
};
export interface ChatResponseWithSteps extends FixedChatResponse {
    steps: ChatStep[];
}
export interface ChatResponseWithPMResources {
    opportunities?: OpportunitiesPMAgent[];
    hypothesis?: HypothesisPMAgent[];
    prfaq?: PrfaqPMAgent;
}
export type OazapftsFunction<Variables = any, Result = any> = (variables: Variables, opts?: RequestOpts) => Promise<Result>;
type Unpromisify<T> = T extends Promise<infer R> ? Unpromisify<R> : T;
export type FixVariables<T extends OazapftsFunction, Fix extends Record<string, any>> = OazapftsFunction<Omit<Parameters<T>[0], keyof Fix> & {
    [K in keyof Fix as Fix[K] extends never ? never : K]: Fix[K];
}, Unpromisify<ReturnType<T>>>;
export type ReplaceResult<T extends (...args: any[]) => Promise<any>, Fix> = (...args: Parameters<T>) => Promise<Fix>;
export interface AgentResponseWithBuiltIn extends Omit<ListAgentResponse, 'conversation_starter' | 'avatar'> {
    builtIn?: boolean;
    spaceName?: string;
    conversation_starter?: string[] | null;
    avatar?: string | null | undefined;
}
export type AgentVisibilityLevel = AgentVisibilityLevelEnum | VisibilityLevelEnum;
export interface AgentToolsOpenAPIPreview {
    name: string;
    description: string;
    method: HttpMethod;
    url: string;
    parameters?: Record<string, any>;
    request_body?: Record<string, any>;
}
export {};
//# sourceMappingURL=types.d.ts.map