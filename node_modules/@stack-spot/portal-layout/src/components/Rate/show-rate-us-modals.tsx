import { overlay } from '../../LayoutOverlayManager'
import { FeedbackModal } from './FeedbackModal'
import { RateComponent } from '.'

interface PropsShowFeedbackModal  { 
  onClick: () => void, 
  portal: 'EDP' | 'AI',
  customShouldShowNpsModal?: () => boolean,
}

export const ShowFeedbackModal = ({ onClick, portal, customShouldShowNpsModal }: PropsShowFeedbackModal) => (
  <FeedbackModal onClick={onClick} portal={portal} customShouldShowNpsModal={customShouldShowNpsModal} />
)

interface Props {
  sub: string,
  tenant: string,
  portal: 'EDP' | 'AI',
  formIdentifier: string,
}

export const showRateUsModal = ({ title, ...props }: Props & { title: string }) => {
  const { formIdentifier, sub, tenant, portal } = props
  overlay.showModal({
    title: title,
    children: <RateComponent tfLive={formIdentifier} userId={sub} orgId={tenant} portal={portal} />,
    size: 'large',
  })
}
