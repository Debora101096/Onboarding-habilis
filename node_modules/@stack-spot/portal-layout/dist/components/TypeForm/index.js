import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Box, Flex } from '@citric/core';
import { LoadingCircular } from '@citric/ui';
import { useEffect, useMemo, useState } from 'react';
export const TypeForm = ({ dataTfLive, hiddenProps, }) => {
    const [isLoading, setIsLoading] = useState(true);
    useEffect(() => {
        window.tf?.load();
        setTimeout(() => {
            setIsLoading(false);
        }, 2000);
    }, []);
    const hiddenPropsString = useMemo(() => {
        if (hiddenProps) {
            return Object.entries(hiddenProps)
                .map(([key, value]) => `${key}=${value}`)
                .join(',');
        }
    }, [hiddenProps]);
    const typeform = useMemo(() => _jsx(Box, { children: _jsx("div", { "data-tf-live": dataTfLive, "data-tf-hidden": hiddenPropsString }) }), [dataTfLive, hiddenPropsString]);
    return (_jsxs(Box, { sx: { minWidth: '650px', minHeight: '500px' }, children: [isLoading && _jsx(Flex, { alignItems: "center", justifyContent: "center", w: "12", sx: { height: '100%' }, children: _jsx(LoadingCircular, {}) }), _jsx(Box, { sx: { opacity: isLoading ? '0' : 1 }, children: typeform })] }));
};
//# sourceMappingURL=index.js.map