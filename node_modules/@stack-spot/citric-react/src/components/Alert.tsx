import { listToClass } from '@stack-spot/portal-theme'
import { withRef } from '../utils/react'
import { CitricComponent } from './CitricComponent'

export interface BaseAlertProps {
  /**
   * Type of the message.
   * @default 'warning'
   */
  type?: 'error' | 'info' | 'warning',
}

export type AlertProps = React.JSX.IntrinsicElements['div'] & BaseAlertProps

/**
 * Renders an alert message with an icon and a background. This may be an error, warning or a success feedback.
 * 
 * @example
 * ```
 * <Alert type="warning">My warning!</Alert>
 * ```
 */
export const Alert = withRef(({ type, className, children, ...props }: AlertProps) =>
  <CitricComponent tag="div" component="alert" className={listToClass([type, className])} {...props}>{children}</CitricComponent>)
