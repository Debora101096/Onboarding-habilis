import { listToClass } from '@stack-spot/portal-theme'
import { WithColorPalette, WithColorScheme } from '../types'
import { withRef } from '../utils/react'
import { CitricComponent } from './CitricComponent'

export interface BaseCircleProps extends WithColorPalette, WithColorScheme {
  /**
   * Whether or not to show borders.
   * 
   * @default false
   */
  showBorders?: boolean,
  /**
   * The size of the circle.
   * 
   * - xxs: 8px;
   * - xs: 12px;
   * - sm: 18px;
   * - md: 27px;
   * - lg: 40px;
   * - xl: 60px;
   * - xxl: 90px.
   * 
   * @default 'xs'
   */
  size?: 'xxs' | 'xs' | 'sm' | 'lg' | 'xl' | 'xxl',
}

export type CircleProps = React.JSX.IntrinsicElements['div'] & BaseCircleProps

/**
 * Renders a simple circle. If the circle has any children, it gets cropped by the circle borders. The content of the circle is centered.
 * 
 * @example
 * ```
 * <Circle colorScheme="success" />
 * ```
 */
export const Circle = withRef(({ showBorders, className, size, children, ...props }: CircleProps) => (
  <CitricComponent tag="div" component="circle" className={listToClass([className, showBorders && 'bordered', size])} {...props}>
    {children}
  </CitricComponent>
))
