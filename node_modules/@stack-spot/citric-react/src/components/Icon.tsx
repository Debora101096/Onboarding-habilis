import { IconGroup, Icon as OgIcon, IconProps as OgIconProps } from '@stack-spot/citric-icons'
import { ColorKey } from '@stack-spot/portal-theme'
import { colorNameToColorVariable } from '../utils/css'

export type IconProps<T extends IconGroup> = Omit<OgIconProps<T>, 'color'> & {
  /**
   * The color for the icon. Can be any color in the theme.
   */
  color?: ColorKey,
}

/**
 * Renders an icon based on the properties "icon" and "group".
 * 
 * There are three icon groups:
 * - outline: most of the icons are in this group. The icons are stroke only.
 * - fill: most outline icons have a fill version. Fill icons are filled with solid colors, they're not just strokes.
 * - social: icons for brands (logos).
 * 
 * By default, the group is "outline".
 * 
 * The icon size depends on the font-size of the current context. To set a specific size, use the property "size".
 * 
 * Attention: this is the same as using the component Icon from the icons component, the only difference is that this accepts the property
 * "color".
 * 
 * @example
 * 
 * ```
 * <Icon icon="Search" />
 * ```
 */
export function Icon<T extends IconGroup>({ color, style, ...props }: IconProps<T>) {
  return <OgIcon {...props} style={{ color: color ? colorNameToColorVariable(color) : undefined, ...style }} />
}
