import { listToClass } from '@stack-spot/portal-theme'
import { withRef } from '../utils/react'
import { CitricComponent } from './CitricComponent'

export type FormProps = JSX.IntrinsicElements['form']
export type ButtonGroupProps = JSX.IntrinsicElements['div']

/**
 * A form, styled to receive rows, form groups and button groups.
 * 
 * This has the exact same interface as the HTML form.
 */
export const Form = ({ children, ...props }: FormProps) => (
  <CitricComponent tag="form" component="form" {...props}>
    {children}
  </CitricComponent>
)

/**
 * Renders a group of buttons in a form.
 * 
 * @example
 * ```
 * <Form>
 *   <ButtonGroup>
 *     <Button>Cancel</Button>
 *     <Button type="submit">Submit</Button>
 *   </ButtonGroup>
 * </Form>
 * ```
 */
export const ButtonGroup = withRef(({ className, children, ...props }: ButtonGroupProps) => (
  <div className={listToClass([className, 'button-group'])} {...props}>
    {children}
  </div>
))
