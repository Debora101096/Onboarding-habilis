import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { isNil } from 'lodash';
import { useMemo } from 'react';
import { defaultRenderKey, defaultRenderLabel } from '../utils/options.js';
import { withRef } from '../utils/react.js';
import { CitricComponent } from './CitricComponent.js';
import { Column } from './layout.js';
/**
 * Renders a list of radio button for single-selection. One radio button is rendered for each option.
 *
 * Attention: single radio buttons don't make sense, this is why they're not provided by this library.
 *
 * This component can be heavily customized via its properties. Check the storybook for complex examples.
 *
 * Tip: if you need to implement features like "search", use the hook `useRadioGroupControls`.
 *
 * @example
 *
 * ```
 * const options = useMemo(() => [
 *   { id: 1, name: 'Option 1' },
 *   { id: 2, name: 'Option 2' },
 *   { id: 3, name: 'Option 3' },
 * ], [])
 *
 * const [value, setValue] = useState<(typeof options)[number] | undefined>()
 *
 * return <RadioGroup options={options} renderLabel={o => o.name} renderKey={o => o.id} value={value} setValue={setValue} />
 * ```
 */
export const RadioGroup = withRef(function RadioGroup({ name, value, options, onChange, renderLabel = defaultRenderLabel, renderKey = defaultRenderKey, renderItem, isDisabled, colorScheme, gap = '8px', focusable = true, style, ...props }) {
    const items = useMemo(() => {
        const valueKey = value ? renderKey(value) : undefined;
        return options.map((o) => {
            const key = renderKey(o);
            const radio = _jsx(CitricComponent, { tag: "input", component: "radio", type: "radio", name: name, value: key, checked: value === o || (!isNil(key) && valueKey === key), onChange: () => onChange?.(o), disabled: isDisabled?.(o), tabIndex: focusable ? undefined : -1, colorScheme: colorScheme });
            return renderItem ? renderItem(radio, o) : (_jsxs(CitricComponent, { tag: "label", component: "radio-row", colorScheme: colorScheme, children: [radio, renderLabel(o)] }, key));
        });
    }, [options, value, name, colorScheme]);
    return _jsx(Column, { ...props, style: { gap, ...style }, children: items });
});
//# sourceMappingURL=RadioGroup.js.map