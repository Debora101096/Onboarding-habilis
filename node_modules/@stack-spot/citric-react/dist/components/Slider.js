import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { listToClass } from '@stack-spot/portal-theme';
import { applyCSSVariable } from '../utils/css.js';
import { withRef } from '../utils/react.js';
import { CitricComponent } from './CitricComponent.js';
/**
 * A UI element where the user can slide a knob over a bar to select a number. By default, a number between 0 and 100 can be selected, use
 * the properties "min" and "max" to change this.
 *
 * Attention: "onChange" receives the new value (number) instead of the event.
 *
 * @example
 * ```
 * const [value, setValue] = useState(0)
 * return <Slider value={value} setValue={setValue} />
 * ```
 */
export const Slider = withRef(({ value, onChange, min, max, style, showValue, renderValue, colorPalette, colorScheme, className, ...props }) => {
    const percent = Math.floor((value / ((max ?? 100) - (min ?? 0))) * 100);
    style = applyCSSVariable(style, 'percent', percent);
    const rangeProps = {
        value,
        min,
        max,
        onChange: (e) => onChange(parseInt(e.target.value)),
        ...props,
    };
    return showValue === 'never'
        ? _jsx(CitricComponent, { tag: "input", type: "range", component: "slider", style: style, className: className, colorPalette: colorPalette, colorScheme: colorScheme, ...rangeProps })
        : (_jsxs(CitricComponent, { tag: "div", component: "labeled-slider", style: style, colorPalette: colorPalette, colorScheme: colorScheme, className: listToClass([className, showValue === 'hover' && 'value-on-hover']), children: [_jsx("input", { type: "range", ...rangeProps }), _jsx("div", { className: "value", children: renderValue ? renderValue(value) : `${value}${min === undefined && max === undefined ? '%' : ''}` })] }));
});
//# sourceMappingURL=Slider.js.map