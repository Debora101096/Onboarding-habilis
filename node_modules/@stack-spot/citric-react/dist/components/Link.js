import { jsx as _jsx } from "react/jsx-runtime";
import { useCitricController } from '../context/hooks.js';
import { applyColor, applyTextAppearance } from '../utils/css.js';
import { withRef } from '../utils/react.js';
import { asCitricProps, CitricComponent } from './CitricComponent.js';
/**
 * Renders an html anchor by default, the actual component to render may be set on a CitricController, through the function `renderLink`.
 *
 * Whenever a link is clicked, the function `onClickLink` of the nearest CitricController is called with the event and the value of the
 * prop `metadata`.
 */
export const Link = withRef(({ appearance, color, style, className, children, onClick, metadata, underline = true, ...props }) => {
    const citric = useCitricController();
    const linkProps = {
        component: 'link',
        style: applyColor({ ...style, textDecoration: underline ? undefined : 'none' }, color),
        className: applyTextAppearance(className, appearance),
        onClick: (e) => {
            onClick?.(e);
            citric?.onClickLink?.(e, metadata ?? false);
        },
        ...props,
    };
    return citric?.renderLink
        ? citric.renderLink(asCitricProps({ ...linkProps, children }))
        : _jsx(CitricComponent, { tag: "a", ...linkProps, children: children });
});
//# sourceMappingURL=Link.js.map