import { jsx as _jsx } from "react/jsx-runtime";
import { listToClass } from '@stack-spot/portal-theme';
import { useCitricController } from '../context/hooks.js';
import { withRef } from '../utils/react.js';
import { asCitricProps, CitricComponent } from './CitricComponent.js';
/**
 * Renders a wrapper for an icon. The icon must specified by the properties "icon" and "group", this component accepts no children.
 *
 * If you don't need the icon to be rendered within a box, consider using the component "Icon" directly.
 *
 * Hover and focus effects are applied if the IconBox is focusable.
 *
 * @example
 * ```
 * <IconBox icon="Search" colorScheme="primary" />
 * ```
 */
export const IconBox = withRef(function IconBox({ group, icon, tag, appearance, size, className, metadata, onClick, feedback, ...props }) {
    props['aria-label'] ||= props.title; // accessibility
    const citric = useCitricController();
    function handleClick(e) {
        onClick?.(e);
        if (tag === 'button')
            citric?.onClickButton?.(e, metadata);
        else if (tag === 'a')
            citric?.onClickLink?.(e, metadata);
    }
    const componentProps = {
        tag: (tag || 'i'),
        component: 'icon-box',
        className: listToClass(['citric-icon', group || 'outline', icon, appearance, size, className]),
        'data-feedback': feedback || undefined,
        onClick: ['button', 'a'].includes(tag ?? '') ? handleClick : onClick,
        ...props,
    };
    return tag === 'a' && citric?.renderLink
        ? citric.renderLink(asCitricProps(componentProps))
        : _jsx(CitricComponent, { ...componentProps });
});
/**
 * A shortcut for `<IconBox tag="button">`.
 *
 * Whenever a button is clicked, the function `onClickButton` of the nearest CitricController is called with the event and the value of the
 * prop `metadata`.
 *
 * @example
 * ```
 * <IconButton icon="Search" />
 * ```
 */
export const IconButton = withRef(function IconButton({ type, ...props }) {
    return _jsx(IconBox, { ...props, tag: "button", type: type || 'button' });
});
/**
 * A shortcut for `<IconBox tag="a">`.
 *
 * Whenever a link is clicked, the function `onClickLink` of the nearest CitricController is called with the event and the value of the
 * prop `metadata`.
 *
 * @example
 * ```
 * <IconLink icon="Search" href="#" />
 * ```
 */
export const IconLink = withRef(function IconLink(props) {
    return _jsx(IconBox, { ...props, tag: "a" });
});
//# sourceMappingURL=IconBox.js.map